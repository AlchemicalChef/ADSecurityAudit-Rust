\* TLC Configuration for IncidentLifecycle module

SPECIFICATION Spec

\* Constants - small values for tractable state space
CONSTANTS
    MAX_INCIDENTS = 2
    INCIDENT_IDS = {i1, i2}

\* State constraint to bound exploration
CONSTRAINT StateConstraint

\* Safety invariants to check
INVARIANTS
    TypeInvariant
    ClosedIsFinal
    IncidentsStartOpen
    WriteProtection
    NoConcurrentWrites

\* BUG DETECTION: These invariants may be VIOLATED
\* because the current implementation might not enforce forward-only transitions
\* INVARIANT ForwardOnlyStatus
\* INVARIANT AllTransitionsValid

\* Liveness properties
\* PROPERTY AllIncidentsClose
\* PROPERTY LocksReleased

\* Note: ForwardOnlyStatus is the key invariant. If the specification
\* uses NextUnsafe (default), TLC will find a counterexample showing
\* how an incident can regress to an earlier status.
\*
\* To verify the CORRECT implementation, change Next to NextSafe in the
\* .tla file and uncomment the ForwardOnlyStatus invariant above.
